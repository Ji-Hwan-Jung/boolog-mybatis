<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <div th:replace="~{fragment/header :: header ('Boolog')}"></div>
  <body>
    <!-- NavBar 부분 -->
    <div th:replace="fragment/navbar :: navbar"></div>
    <div th:replace="fragment/navbar :: login_modal"></div>

    <!-- 인기 탭 -->
    <div class="container-md px-lg-5 px-xl-0">
      <div class="row align-items-center mb-2">
        <div class="col-auto me-auto">
          <a
            class="text-decoration-none text-dark fw-semibold fs-4"
            th:href="@{/posts/popular}"
            >인기</a
          >
        </div>
        <div class="col-auto">
          <a
            role="button"
            th:href="@{/posts/popular}"
            class="btn btn-sm btn-outline-secondary"
            style="
              --bs-btn-padding-y: 0.25rem;
              --bs-btn-padding-x: 0.5rem;
              --bs-btn-font-size: 0.75rem;
            "
          >
            더 보기
          </a>
        </div>
      </div>

      <!-- 인기 탭 카드뷰 -->
      <div class="row row-cols-1 row-cols-sm-2 row-cols-xl-4 g-3">
        <div th:each="post : ${mainPopular}" class="col">
          <div
            class="card border-light shadow-sm"
            style="--bs-card-height: 25rem"
          >
            <a th:href="@{|/posts/${post.id}|}"><img th:if="${post.thumbnail} != null" th:src="${post.thumbnail}" class="card-img-top" width="100%" height="165rem"></a>
            <div class="card-body">
              <a th:href="@{|/posts/${post.id}|}" class="text-decoration-none text-dark">
              <h5 th:text="${post.title}"
                class="card-title text-truncate fw-bold"
                  style="font-size: 1.2rem"
              >
                post title
              </h5>
              <p th:text="${post.content}"
                class="card-text text-wrap text-truncate"
                 style="
                  font-size: 0.9rem;
                  display: -webkit-box;
                  -webkit-line-clamp: 3;
                  -webkit-box-orient: vertical;
                "
              >
                post contents
              </p>
              </a>
              <div th:text="${#temporals.format(post.createdDate, 'yyyy년 MM월 dd일')}" class="mt-4" style="font-size: 0.8rem">2022년 5월 30일</div>
            </div>
            <div class="card-footer d-flex bg-transparent">
              <a th:href="@{|/@${post.author}|}" th:text="${post.author}" class="text-muted fw-bold text-decoration-none text-dark me-auto" style="font-size: 0.85rem"
                >author name</a
              >
              <img src="/image/hand-thumbs-up.svg">
              <span class="text-muted fw-bold text-decoration-none text-dark ms-2" style="font-size: 0.85rem" th:text="${post.liked}"></span>
            </div>
          </div>
        </div>
      </div>

      <!-- 최신 탭 -->
      <div class="row align-items-center mt-5 mb-2">
        <div class="col-auto me-auto">
          <a
            class="text-decoration-none text-dark fw-semibold fs-4"
            th:href="@{/posts/recent}"
            >최신</a
          >
        </div>
        <div class="col-auto">
          <a
            role="button"
            th:href="@{/posts/recent}"
            class="btn btn-sm btn-outline-secondary"
            style="
              --bs-btn-padding-y: 0.25rem;
              --bs-btn-padding-x: 0.5rem;
              --bs-btn-font-size: 0.75rem;
            "
          >
            더 보기
          </a>
        </div>
      </div>
      <!-- 최신 탭 카드뷰 -->
      <div class="row row-cols-1 row-cols-sm-2 row-cols-xl-4 g-3">
        <div th:each="post : ${mainRecent}" class="col">
          <div
                  class="card border-light shadow-sm"
                  style="--bs-card-height: 25rem"
          >
            <a th:href="@{|/posts/${post.id}|}"><img th:if="${post.thumbnail} != null" th:src="${post.thumbnail }" class="card-img-top" width="100%" height="165rem"></a>
            <div class="card-body">
              <a th:href="@{|/posts/${post.id}|}" class="text-decoration-none text-dark">
              <h5 th:text="${post.title}"
                  class="card-title text-truncate fw-bold"
                  style="font-size: 1.2rem"
              >
                post title
              </h5>
              <p th:text="${post.content}"
                 class="card-text text-wrap text-truncate"
                 style="
                  font-size: 0.9rem;
                  display: -webkit-box;
                  -webkit-line-clamp: 3;
                  -webkit-box-orient: vertical;
                "
              >
                post contents
              </p>
              </a>
              <div th:text="${#temporals.format(post.createdDate, 'yyyy년 MM월 dd일')}" class="mt-4" style="font-size: 0.8rem">2022년 5월 30일</div>
            </div>

            <div class="card-footer d-flex bg-transparent">
              <a th:href="@{|/@${post.author}|}" th:text="${post.author}" class="text-muted fw-bold text-decoration-none text-dark me-auto" style="font-size: 0.85rem"
              >author name</a
              >
              <img src="/image/hand-thumbs-up.svg">
              <span class="text-muted fw-bold text-decoration-none text-dark ms-2" style="font-size: 0.85rem" th:text="${post.liked}"></span>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div th:replace="fragment/footer :: footer"></div>
    <div th:replace="fragment/footer :: bootstrap"></div>
  </body>
</html>
